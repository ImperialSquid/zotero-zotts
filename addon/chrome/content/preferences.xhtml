<linkset>
  <html:link rel="localization" href="__addonRef__-preferences.ftl" />
</linkset>
<vbox
  id="zotero-prefpane-__addonRef__"
  onload="Zotero.__addonInstance__.hooks.onPrefsLoad('load', window.document)"
  xmlns:html="http://www.w3.org/1999/xhtml"
>
  <groupbox id="__addonRef__-general">
    <label><html:h2 data-l10n-id="pref-sect-general"></html:h2></label>

    <!-- queue or cancel on playing new items -->
    <vbox>
      <label data-l10n-id="pref-general-queue-label"></label>
      <radiogroup preference="__prefsPrefix__.newItemBehaviour" style="padding-left:20px">
        <radio data-l10n-id="pref-general-queue-disable"
               value="cancel"/>
        <radio data-l10n-id="pref-general-queue-enable"
               value="queue"/>
      </radiogroup>
    </vbox>

    <!--// TODO: future add dropdown to select TTS engine
             needs to call hook to gracefully transfer (cancel if playing/paused, etc)-->
  </groupbox>

  <groupbox id="__addonRef__-webspeech">
    <label><html:h2 data-l10n-id="pref-sect-wsa"></html:h2></label>

    <!-- WSA voice -->
    <vbox>
      <html:label data-l10n-id="pref-wsa-voice"
                  for="webspeech-voice">
      </html:label>
      <menulist id="webspeech-voice" preference="__prefsPrefix__.webSpeech.voice">
        <menupopup id="webspeech-voice-popup">
          <!-- populate at runtime -->
        </menupopup>
      </menulist>
    </vbox>

    <!-- volume label and slider -->
    <vbox>
      <hbox align="center">
        <html:label data-l10n-id="pref-wsa-volume"
                    for="webspeech-volume">
        </html:label>
        <html:input preference="__prefsPrefix__.webSpeech.volume"
                    readonly="true"
                    style="width:30px"
        />
        <html:label>%</html:label>
      </hbox>

      <html:input id="webspeech-volume"
                  type="range"
                  min="0"
                  max="100"
                  value="50"
                  preference="__prefsPrefix__.webSpeech.volume"
                  style="width:50%"
      />
    </vbox>

    <!-- rate label and slider -->
    <vbox>
      <hbox align="center">
        <html:label data-l10n-id="pref-wsa-rate"
                    for="webspeech-rate">
        </html:label>
        <html:input preference="__prefsPrefix__.webSpeech.rate"
                    readonly="true"
                    style="width:30px"
        />
        <html:label>%</html:label>
      </hbox>

      <!-- WSA spec allows for x0.1-10 range but that seems excessive for now -->
      <html:input id="webspeech-rate"
                  type="range"
                  min="25"
                  max="400"
                  value="100"
                  preference="__prefsPrefix__.webSpeech.rate"
                  style="width:50%"
      />
    </vbox>

    <!-- pitch label and slider -->
    <vbox>
      <hbox align="center">
        <html:label data-l10n-id="pref-wsa-pitch"
                    for="webspeech-pitch">
        </html:label>
        <html:input preference="__prefsPrefix__.webSpeech.pitch"
                    readonly="true"
                    style="width:30px"
        />
        <html:label>%</html:label>
      </hbox>

      <html:input id="webspeech-pitch"
                  type="range"
                  min="0"
                  max="200"
                  value="100"
                  preference="__prefsPrefix__.webSpeech.pitch"
                  style="width:50%"
      />
    </vbox>

    <html:button
            onclick="Zotero.__addonInstance__.hooks.onSpeakTest()"
            data-l10n-id="pref-wsa-testVoice">
    </html:button>

  </groupbox>

  <!-- NEW ENGINES HERE -->

  <groupbox id="__addonRef__-shortcuts">
    <label><html:h2 data-l10n-id="pref-sect-shortcuts"></html:h2></label>

    <label for="__addonRef__-shortcuts-grid">
      <html:h4 data-l10n-id="pref-subsect-shortcuts-keys"
               style="margin-bottom:1px">
      </html:h4>
    </label>
    <html:div
            id="__addonRef__-shortcuts-grid"
            style="display: grid;align-items: center;grid-template-columns: 1fr max-content max-content;"
    >
      <html:label data-l10n-id="pref-shortcuts-speak"
                  for="__addonRed__-textbox-speak">
      </html:label>
      <html:label class="modifier optional-shift"/>
      <html:input type="text"
                  id="__addonRed__-textbox-speak"
                  maxlength="1"
                  size="1"
                  preference="__prefsPrefix__.shortcuts.speak"/>

      <html:label data-l10n-id="pref-shortcuts-pause"
                  for="__addonRed__-textbox-pause">
      </html:label>
      <html:label class="modifier required-shift"/>
      <html:input type="text"
                  id="__addonRed__-textbox-pause"
                  maxlength="1"
                  size="1"
                  preference="__prefsPrefix__.shortcuts.pause"/>

      <html:label data-l10n-id="pref-shortcuts-cancel"
                  for="__addonRed__-textbox-cancel">
      </html:label>
      <html:label class="modifier required-shift"/>
      <html:input type="text"
                  id="__addonRed__-textbox-cancel"
                  maxlength="1"
                  size="1"
                  preference="__prefsPrefix__.shortcuts.cancel"/>
    </html:div>

    <label for="__addonRef__-shortcuts-shift">
      <html:h4 data-l10n-id="pref-subsect-shortcuts-shiftMod"
               style="margin-bottom:1px">
      </html:h4>
    </label>

    <html:div id="__addonRef__-shortcuts-shift">
      <html:p data-l10n-id="pref-shiftMod-p1"
              style="margin-left:20px;">
      </html:p>

      <html:p data-l10n-id="pref-shiftMod-p2"
              style="margin-left:20px;">
      </html:p>

      <label data-l10n-id="pref-shiftMod-swapLib"></label>
      <radiogroup
              preference="__prefsPrefix__.shortcuts.swapLibraryItem"
              style="padding-left:30px;"
              orient="horizontal"
      >
        <radio data-l10n-id="pref-shiftMod-swapLib-false"
               value="false"/>
        <radio data-l10n-id="pref-shiftMod-swapLib-true"
               value="true"/>
      </radiogroup>

      <label data-l10n-id="pref-shiftMod-swapAnno"></label>
      <radiogroup
              preference="__prefsPrefix__.shortcuts.swapAnnotation"
              style="padding-left:30px;"
              orient="horizontal"
      >
        <radio data-l10n-id="pref-shiftMod-swapAnno-false"
               value="false"/>
        <radio data-l10n-id="pref-shiftMod-swapAnno-true"
               value="true"/>
      </radiogroup>
    </html:div>

  </groupbox>
</vbox>