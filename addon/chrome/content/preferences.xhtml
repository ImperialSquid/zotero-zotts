<vbox
  id="zotero-prefpane-__addonRef__"
  onload="Zotero.__addonInstance__.hooks.onPrefsLoad('load', window.document)"
  xmlns:html="http://www.w3.org/1999/xhtml"
>
  <groupbox id="__addonRef__-general">
    <label><html:h2>General</html:h2></label>

    <!-- queue or cancel on playing new items -->
    <vbox>
      <label>When attempting to play multiple items:</label>
      <radiogroup preference="__prefsPrefix__.newItemBehaviour" style="padding-left:20px">
        <radio label="Cancel anything currently playing" value="cancel"/>
        <radio label="Add new item to a queue" value="queue"/>
      </radiogroup>
    </vbox>
  </groupbox>

  <groupbox id="__addonRef__-webspeech">
    <label><html:h2>Web Speech</html:h2></label>

    <!-- WSA voice -->
    <vbox>
      <html:label for="webspeech-voice">Current Voice</html:label>
      <menulist id="webspeech-voice" preference="__prefsPrefix__.webSpeech.voice">
        <menupopup id="webspeech-voice-popup">
          <!-- populate at runtime -->
        </menupopup>
      </menulist>
    </vbox>

    <!-- volume label and slider -->
    <vbox>
      <hbox align="center">
        <html:label for="webspeech-volume">Volume</html:label>
        <html:input preference="__prefsPrefix__.webSpeech.volume"
                    readonly="true"
                    style="width:30px"
        />
        <html:label>%</html:label>
      </hbox>

      <html:input id="webspeech-volume"
                  type="range"
                  min="0"
                  max="100"
                  value="50"
                  preference="__prefsPrefix__.webSpeech.volume"
                  style="width:50%"
      />
    </vbox>

    <!-- rate label and slider -->
    <vbox>
      <hbox align="center">
        <html:label for="webspeech-rate">Rate</html:label>
        <html:input preference="__prefsPrefix__.webSpeech.rate"
                    readonly="true"
                    style="width:30px"
        />
        <html:label>%</html:label>
      </hbox>

      <!-- WSA spec allows for x0.1-10 range but that seems excessive for now -->
      <html:input id="webspeech-rate"
                  type="range"
                  min="25"
                  max="400"
                  value="100"
                  preference="__prefsPrefix__.webSpeech.rate"
                  style="width:50%"
      />
    </vbox>

    <!-- pitch label and slider -->
    <vbox>
      <hbox align="center">
        <html:label for="webspeech-pitch">Pitch</html:label>
        <html:input preference="__prefsPrefix__.webSpeech.pitch"
                    readonly="true"
                    style="width:30px"
        />
        <html:label>%</html:label>
      </hbox>

      <html:input id="webspeech-pitch"
                  type="range"
                  min="0"
                  max="200"
                  value="100"
                  preference="__prefsPrefix__.webSpeech.pitch"
                  style="width:50%"
      />
    </vbox>

    <html:button
            onclick="Zotero.__addonInstance__.hooks.onSpeak('This is an example sentence using the current voice and other settings.')"
    >
      Test Voice
    </html:button>

  </groupbox>

  <groupbox id="__addonRef__-shortcuts">
    <label><html:h2>Shortcuts</html:h2></label>

    <label for="__addonRef__-shortcuts-grid">
      <html:h4 style="margin-bottom:1px">Shortcut Keys</html:h4>
    </label>
    <html:div
            id="__addonRef__-shortcuts-grid"
            style="display: grid;align-items: center;grid-template-columns: 1fr max-content max-content;"
    >
      <html:label for="__addonRed__-textbox-speak">Speak</html:label>
      <html:label class="modifier optional-shift"/>
      <html:input type="text"
                  id="__addonRed__-textbox-speak"
                  maxlength="1"
                  size="1"
                  preference="__prefsPrefix__.shortcuts.speak"/>

      <html:label for="__addonRed__-textbox-pause">Pause</html:label>
      <html:label class="modifier required-shift"/>
      <html:input type="text"
                  id="__addonRed__-textbox-pause"
                  maxlength="1"
                  size="1"
                  preference="__prefsPrefix__.shortcuts.pause"/>

      <html:label for="__addonRed__-textbox-cancel">Cancel</html:label>
      <html:label class="modifier required-shift"/>
      <html:input type="text"
                  id="__addonRed__-textbox-cancel"
                  maxlength="1"
                  size="1"
                  preference="__prefsPrefix__.shortcuts.cancel"/>
    </html:div>

    <label for="__addonRef__-shortcuts-shift">
      <html:h4 style="margin-bottom:1px">Shift Modifier</html:h4>
    </label>
    <html:div id="__addonRef__-shortcuts-shift">
      <html:p style="margin-left:20px;">You can change whether ZoTTS will read the title/abstract of library items and the text/comment of annotations by holding Shift.</html:p>

      <html:p style="margin-left:20px;">Select what ZoTTS should do when <html:em>not</html:em> holding Shift</html:p>

      <label>When speaking a library item:</label>
      <radiogroup
              preference="__prefsPrefix__.shortcuts.swapLibraryItem"
              style="padding-left:30px;"
              orient="horizontal"
      >
        <radio label="Speak title" value="false"/>
        <radio label="Speak abstract" value="true"/>
      </radiogroup>

      <label>When speaking an annotation:</label>
      <radiogroup
              preference="__prefsPrefix__.shortcuts.swapAnnotation"
              style="padding-left:30px;"
              orient="horizontal"
      >
        <radio label="Speak annotated text" value="false"/>
        <radio label="Speak attached comment" value="true"/>
      </radiogroup>
    </html:div>

  </groupbox>
</vbox>